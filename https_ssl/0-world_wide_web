#!/usr/bin/env bash
# Function to display information about a subdomain
display_info() {
    local domain=$1
    local subdomain=$2
    local record_type=$3
    local destination=$4

    echo "The subdomain $subdomain is a $record_type record and points to $destination"
}

# Check if domain and subdomain parameters are provided
if [ "$#" -eq 0 ]; then
    echo "Usage: $0 domain [subdomain]"
    exit 1
fi

# Assign domain and subdomain variables
domain=$1
subdomain=$2

# Default subdomains to audit
subdomains=("www" "lb-01" "web-01" "web-02")

# If subdomain is provided, display information for the specified subdomain
if [ -n "$subdomain" ]; then
    record_type=$(dig +short $subdomain.$domain | awk 'NR==1 {print $1}')
    destination=$(dig +short $subdomain.$domain | awk 'NR==1 {print $1}')
    display_info $domain $subdomain $record_type $destination
else
    # Display information for default subdomains
    for sub in "${subdomains[@]}"; do
        record_type=$(dig +short $sub.$domain | awk 'NR==1 {print $1}')
        destination=$(dig +short $sub.$domain | awk 'NR==1 {print $1}')
        display_info $domain $sub $record_type $destination
    done
fi

