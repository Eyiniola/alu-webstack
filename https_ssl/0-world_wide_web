#!/usr/bin/env bash
# Configure your domain zone so that the subdomain www and display information about subdomains
if [ "$#" -lt 1 ] || [ "$#" -gt 2 ]; then
    echo "Usage: $0 <domain> [subdomain]"
    exit 1
fi

domain="$1"

if [ "$#" -eq 1 ]; then
    subdomains=("www" "lb-01" "web-01" "web-02")
    for sub_domain in "${subdomains[@]}"; do
        result=$(dig "$sub_domain.$domain" +short)
        if [ -n "$result" ]; then
            echo "The subdomain $sub_domain points to $result"
        else
            echo "Unable to retrieve information for subdomain $sub_domain"
        fi
    done
elif [ "$#" -eq 2 ]; then
    sub_domain="$2"
    result=$(dig "$sub_domain.$domain" +short)
    if [ -n "$result" ]; then
        echo "The subdomain $sub_domain points to $result"
    else
        echo "Unable to retrieve information for subdomain $sub_domain"
    fi
fi

